<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indian Quick Commerce Market Analysis</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Chosen Palette: Corporate Intelligence (Slate 900, Emerald 500, Indigo 600, White) -->

    <style>
        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: #f1f5f9;
        }

        ::-webkit-scrollbar-thumb {
            background: #94a3b8;
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #64748b;
        }

        /* Chart Container Utilities */
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            /* Max width for readability */
            height: 350px;
            /* Base height */
            max-height: 400px;
            margin: 0 auto;
        }

        @media (max-width: 640px) {
            .chart-container {
                height: 280px;
            }
        }

        .card-hover:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }

        .tab-active {
            border-bottom: 2px solid #059669;
            color: #059669;
            font-weight: 600;
        }
    </style>
</head>

<body class="bg-slate-50 text-slate-800 font-sans leading-relaxed selection:bg-emerald-100 selection:text-emerald-900">

    <!-- Navigation -->
    <nav class="bg-white border-b border-slate-200 sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex items-center">
                    <div class="flex-shrink-0 flex items-center gap-2">
                        <span
                            class="text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-emerald-600 to-teal-500">Q-Comm
                            Intel</span>
                    </div>
                    <div class="hidden sm:ml-8 sm:flex sm:space-x-8">
                        <button onclick="scrollToSection('consumer')"
                            class="border-transparent text-slate-500 hover:border-emerald-300 hover:text-emerald-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium transition-colors">India
                            1 Consumer</button>
                        <button onclick="scrollToSection('economics')"
                            class="border-transparent text-slate-500 hover:border-emerald-300 hover:text-emerald-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium transition-colors">Unit
                            Economics</button>
                        <button onclick="scrollToSection('landscape')"
                            class="border-transparent text-slate-500 hover:border-emerald-300 hover:text-emerald-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium transition-colors">Competitive
                            Landscape</button>
                        <button onclick="scrollToSection('data')"
                            class="border-transparent text-slate-500 hover:border-emerald-300 hover:text-emerald-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium transition-colors">Data
                            Source</button>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <div class="bg-white">
        <div class="max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:py-16 lg:px-8 flex flex-col items-center text-center">
            <h1 class="text-4xl font-extrabold tracking-tight text-slate-900 sm:text-5xl md:text-6xl mb-4">
                <span class="block">The Rise of</span>
                <span class="block text-emerald-600">Quick Commerce in India</span>
            </h1>
            <p class="mt-3 max-w-md mx-auto text-base text-slate-500 sm:text-lg md:mt-5 md:text-xl md:max-w-3xl">
                An analysis of the "India 1" consumer, the evolution of unit economics from 2022 to 2024, and the
                strategic shift from Cost to Convenience.
            </p>
            <div class="mt-5 max-w-md mx-auto sm:flex sm:justify-center md:mt-8">
                <div class="rounded-md shadow">
                    <button onclick="scrollToSection('consumer')"
                        class="w-full flex items-center justify-center px-8 py-3 border border-transparent text-base font-medium rounded-md text-white bg-emerald-600 hover:bg-emerald-700 md:py-4 md:text-lg md:px-10 transition-all">
                        Explore Insights
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Section 1: The India 1 Consumer -->
    <section id="consumer" class="py-12 bg-slate-50 scroll-mt-16">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-10">
                <h2 class="text-base text-emerald-600 font-semibold tracking-wide uppercase">Target Audience</h2>
                <p class="mt-2 text-3xl leading-8 font-extrabold tracking-tight text-slate-900 sm:text-4xl">The "India
                    1" Phenomenon</p>
                <p class="mt-4 max-w-2xl text-xl text-slate-500 mx-auto">
                    Based on the <strong>Blume Ventures Report</strong>, the Indian market is not a monolith. It is
                    stratified into three distinct economic layers. Quick Commerce builds its fortress entirely within
                    "India 1".
                </p>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 items-start">
                <!-- Chart Col -->
                <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-100">
                    <h3 class="text-lg font-bold text-slate-800 mb-4 text-center">The Consumption Pyramid</h3>
                    <div class="chart-container">
                        <canvas id="pyramidChart"></canvas>
                    </div>
                    <p class="text-xs text-slate-400 text-center mt-2">Source: Blume Ventures Report Estimates</p>
                </div>

                <!-- Content Col -->
                <div class="space-y-6">
                    <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-100 card-hover transition-all">
                        <h3 class="text-lg font-bold text-slate-800 mb-2 border-l-4 border-emerald-500 pl-3">Who is
                            India 1?</h3>
                        <p class="text-slate-600 mb-4">
                            India 1 represents approximately <strong>30 Million Households</strong> (approx. 120M
                            people). This demographic earns <strong>>$15,000 (approx â‚¹12L+) per annum</strong>.
                        </p>
                        <div class="bg-emerald-50 p-4 rounded-lg">
                            <p class="text-sm text-emerald-800 font-semibold">Key Consumption Stat:</p>
                            <p class="text-sm text-emerald-700">Despite being a small fraction of the population, India
                                1 accounts for nearly <strong>60-70% of discretionary spending</strong> in categories
                                like premium beauty, dining out, and electronics.</p>
                        </div>
                    </div>

                    <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-100 card-hover transition-all">
                        <h3 class="text-lg font-bold text-slate-800 mb-2 border-l-4 border-indigo-500 pl-3">Why
                            "Convenience" over "Cost"?</h3>
                        <p class="text-slate-600">
                            For India 2 and 3, money is the primary constraint, making them highly price-sensitive
                            (seeking discounts).
                        </p>
                        <p class="text-slate-600 mt-2">
                            For India 1, <strong>Time is the primary constraint</strong>. They are "Money Rich, Time
                            Poor." They are willing to pay a premium (delivery fees, platform fees, non-discounted MRP)
                            to save 30 minutes of traffic or planning.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Section 2: Unit Economics -->
    <section id="economics" class="py-12 bg-white scroll-mt-16">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-10">
                <h2 class="text-base text-indigo-600 font-semibold tracking-wide uppercase">Financial Viability</h2>
                <p class="mt-2 text-3xl leading-8 font-extrabold tracking-tight text-slate-900 sm:text-4xl">Evolution of
                    Unit Economics</p>
                <p class="mt-4 max-w-2xl text-xl text-slate-500 mx-auto">
                    According to <strong>JM Financial Reports</strong>, the math of Quick Commerce has shifted
                    dramatically. Compare the Dark Store model of 2022 vs. the optimized model of 2024.
                </p>
            </div>

            <!-- Toggle Controls -->
            <div class="flex justify-center mb-8">
                <div class="bg-slate-100 p-1 rounded-lg inline-flex">
                    <button id="btn-2022"
                        class="px-6 py-2 rounded-md text-sm font-medium bg-white text-slate-900 shadow-sm transition-all"
                        onclick="updateEconomics('2022')">2022 Model (Burn Phase)</button>
                    <button id="btn-2024"
                        class="px-6 py-2 rounded-md text-sm font-medium text-slate-500 hover:text-slate-900 transition-all"
                        onclick="updateEconomics('2024')">2024 Model (Profit Phase)</button>
                </div>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <!-- Interactive Metrics -->
                <div class="bg-slate-50 p-6 rounded-xl border border-slate-200">
                    <h3 class="text-lg font-bold text-slate-800 mb-6 flex justify-between items-center">
                        <span>Per Order Economics</span>
                        <span id="year-badge" class="px-3 py-1 bg-red-100 text-red-800 text-xs rounded-full">2022
                            Data</span>
                    </h3>

                    <div class="space-y-6">
                        <!-- AOV -->
                        <div>
                            <div class="flex justify-between mb-1">
                                <span class="text-sm font-medium text-slate-500">Average Order Value (AOV)</span>
                                <span id="val-aov" class="text-sm font-bold text-slate-900">â‚¹ 350</span>
                            </div>
                            <div class="w-full bg-slate-200 rounded-full h-2">
                                <div id="bar-aov" class="bg-blue-500 h-2 rounded-full transition-all duration-1000"
                                    style="width: 50%"></div>
                            </div>
                        </div>

                        <!-- Delivery Cost -->
                        <div>
                            <div class="flex justify-between mb-1">
                                <span class="text-sm font-medium text-slate-500">Delivery & Last Mile Cost</span>
                                <span id="val-cost" class="text-sm font-bold text-slate-900">â‚¹ 65</span>
                            </div>
                            <div class="w-full bg-slate-200 rounded-full h-2">
                                <div id="bar-cost" class="bg-red-500 h-2 rounded-full transition-all duration-1000"
                                    style="width: 90%"></div>
                            </div>
                        </div>

                        <!-- Gross Margin -->
                        <div>
                            <div class="flex justify-between mb-1">
                                <span class="text-sm font-medium text-slate-500">Gross Margin + Ad Revenue</span>
                                <span id="val-margin" class="text-sm font-bold text-slate-900">â‚¹ 50</span>
                            </div>
                            <div class="w-full bg-slate-200 rounded-full h-2">
                                <div id="bar-margin"
                                    class="bg-emerald-500 h-2 rounded-full transition-all duration-1000"
                                    style="width: 30%"></div>
                            </div>
                        </div>

                        <div class="border-t border-slate-200 pt-4">
                            <div class="flex justify-between items-center">
                                <span class="text-base font-bold text-slate-700">Contribution Margin (CM)</span>
                                <span id="val-cm" class="text-xl font-extrabold text-red-600">- â‚¹ 15.00</span>
                            </div>
                            <p id="cm-desc" class="text-xs text-slate-400 mt-1">Loss making on every order dispatched.
                            </p>
                        </div>
                    </div>
                </div>

                <!-- Concept Explanation -->
                <div class="space-y-6">
                    <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-100">
                        <div class="chart-container">
                            <canvas id="unitEconChart"></canvas>
                        </div>
                    </div>

                    <div class="bg-indigo-50 p-4 rounded-lg border border-indigo-100">
                        <h4 class="font-bold text-indigo-900 text-sm uppercase mb-2">Key Concept: Contribution Margin
                            vs. Net Profit</h4>
                        <p class="text-sm text-indigo-800 leading-relaxed">
                            <strong>Contribution Margin</strong> is the profit made on a single order after deducting
                            variable costs (Cost of Goods, Picking, Packing, Delivery).
                            <br><br>
                            <strong>Net Profit</strong> is Contribution Margin minus Fixed Costs (Tech, Corporate
                            Salaries, Marketing). <br>
                            <em>Insight:</em> Dark stores become profitable once CM covers the store's rent and
                            electricity. Zomato/Blinkit hit CM break-even in late 2023.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Section 3: Competitive Landscape -->
    <section id="landscape" class="py-12 bg-slate-50 scroll-mt-16">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-10">
                <h2 class="text-base text-emerald-600 font-semibold tracking-wide uppercase">Market Strategy</h2>
                <p class="mt-2 text-3xl leading-8 font-extrabold tracking-tight text-slate-900 sm:text-4xl">The Shift in
                    the "3 Cs"</p>
                <p class="mt-4 max-w-2xl text-xl text-slate-500 mx-auto">
                    Traditional E-commerce (Amazon/Flipkart) won on Cost and Catalog. Quick Commerce (Blinkit/Zepto) is
                    winning on Convenience.
                </p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <!-- Card 1 -->
                <div class="bg-white p-6 rounded-xl shadow-sm border-t-4 border-slate-400">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="text-xl font-bold text-slate-800">1. Cost</h3>
                        <span class="text-2xl">ðŸ’°</span>
                    </div>
                    <p class="text-slate-600 text-sm mb-4">
                        <strong>Traditional:</strong> Lowest price guaranteed.
                    </p>
                    <p class="text-slate-600 text-sm">
                        <strong>Quick Comm:</strong> Pricing items higher (e.g., Amul Milk, Electronics) + Handling
                        Fees.
                        <br><span class="text-xs text-slate-400 block mt-2">Source: Shantanu Deshpande / Market
                            Observation</span>
                    </p>
                </div>

                <!-- Card 2 -->
                <div class="bg-white p-6 rounded-xl shadow-sm border-t-4 border-slate-400">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="text-xl font-bold text-slate-800">2. Catalog</h3>
                        <span class="text-2xl">ðŸ“¦</span>
                    </div>
                    <p class="text-slate-600 text-sm mb-4">
                        <strong>Traditional:</strong> The "Long Tail" - infinite shelf space.
                    </p>
                    <p class="text-slate-600 text-sm">
                        <strong>Quick Comm:</strong> Curated "Top 5000" SKUs. Moving into electronics and high-ticket
                        items, but depth is limited to high-frequency goods.
                    </p>
                </div>

                <!-- Card 3 -->
                <div class="bg-white p-6 rounded-xl shadow-sm border-t-4 border-emerald-500 bg-emerald-50">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="text-xl font-bold text-slate-800">3. Convenience</h3>
                        <span class="text-2xl">âš¡</span>
                    </div>
                    <p class="text-slate-600 text-sm mb-4">
                        <strong>Traditional:</strong> 24-48 hour delivery.
                    </p>
                    <p class="text-slate-600 text-sm">
                        <strong>Quick Comm:</strong> 10-15 minutes.
                        <br>
                        <em>The Moat:</em> Hyperlocal user data allows Blinkit to stock exactly what a neighborhood
                        needs (e.g., specific puja samagri in South Delhi vs diapers in Gurgaon).
                    </p>
                </div>
            </div>

            <!-- Visualization of the 3Cs -->
            <div class="mt-8 bg-white p-6 rounded-xl shadow-sm border border-slate-100 max-w-3xl mx-auto">
                <h3 class="text-lg font-bold text-slate-800 mb-4 text-center">Value Proposition Matrix</h3>
                <div class="chart-container">
                    <canvas id="radarChart"></canvas>
                </div>
            </div>
        </div>
    </section>

    <!-- Section 4: Data Source Table -->
    <section id="data" class="py-12 bg-white scroll-mt-16">
        <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8">
            <h2 class="text-2xl font-bold text-slate-900 mb-6">Source Ledger</h2>
            <div class="overflow-x-auto shadow ring-1 ring-black ring-opacity-5 md:rounded-lg">
                <table class="min-w-full divide-y divide-slate-300">
                    <thead class="bg-slate-50">
                        <tr>
                            <th scope="col"
                                class="py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-slate-900 sm:pl-6">The
                                Insight / Number</th>
                            <th scope="col" class="px-3 py-3.5 text-left text-sm font-semibold text-slate-900">Primary
                                Source</th>
                        </tr>
                    </thead>
                    <tbody class="divide-y divide-slate-200 bg-white" id="sourceTableBody">
                        <!-- Populated by JS -->
                    </tbody>
                </table>
            </div>
            <div class="mt-4 text-xs text-slate-400 text-right">
                * Data synthesized based on publicly available summaries of referenced reports.
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-slate-900 text-white py-8">
        <div class="max-w-7xl mx-auto px-4 text-center">
            <p class="text-slate-400 text-sm">Interactive Analysis generated for Market Research purposes.</p>
        </div>
    </footer>

    <!-- JavaScript Logic -->
    <script>
        // --- DATA STORAGE ---

        // 1. Source Data for Table
        const sourceData = [
            { insight: "Classification of Indian Consumers into India 1 (120M), India 2 (100M), India 3 (Remainder)", source: "Blume Ventures Report" },
            { insight: "India 1 earns >$12K-$15K per annum and values time over money", source: "Blume Ventures Report" },
            { insight: "Dark Store Setup Costs decreased while efficiency increased (2022-2024)", source: "JM Financial Report / Economic Times" },
            { insight: "Average Order Value (AOV) increased from ~â‚¹350 to ~â‚¹600+", source: "JM Financial Report" },
            { insight: "Quick Commerce Gross Margins improved via Ad Revenue", source: "JM Financial Report" },
            { insight: "Shift in strategy from Cost (Amazon) to Convenience (Blinkit)", source: "Market Analysis / 3Cs Framework" },
            { insight: "Blinkit pricing higher on staples like Milk compared to general retail", source: "Shantanu Deshpande / Bombay Shaving Company" },
            { insight: "Hyperlocal data advantage for inventory planning", source: "Zomato / Blinkit Analysis" }
        ];

        // 2. Unit Economics Data Models
        const econData = {
            '2022': {
                label: '2022 Model',
                aov: 350,
                deliveryCost: 65,
                margin: 50, // Includes low ad revenue
                cm: -15,
                color: 'bg-red-100 text-red-800',
                cmColor: 'text-red-600',
                barColor: 'bg-red-500',
                desc: 'Loss making on every order. High customer acquisition cost, low basket size.'
            },
            '2024': {
                label: '2024 Model',
                aov: 620,
                deliveryCost: 60, // Optimized
                margin: 110, // Higher margin goods + Ads
                cm: 50,
                color: 'bg-emerald-100 text-emerald-800',
                cmColor: 'text-emerald-600',
                barColor: 'bg-emerald-500',
                desc: 'Profitable contribution. Higher AOV (Electronics/Beauty), Ad Revenue covers delivery.'
            }
        };

        // --- INITIALIZATION ---

        document.addEventListener('DOMContentLoaded', () => {
            initPyramidChart();
            initRadarChart();
            initUnitEconChart(); // Initial chart
            populateTable();
            updateEconomics('2022'); // Set initial state
        });

        // --- NAVIGATION ---
        function scrollToSection(id) {
            const element = document.getElementById(id);
            if (element) {
                element.scrollIntoView({ behavior: 'smooth' });
            }
        }

        // --- DOM MANIPULATION: UNIT ECONOMICS ---

        let unitChartInstance = null;

        function updateEconomics(year) {
            const data = econData[year];

            // Update Text Values
            document.getElementById('val-aov').innerText = `â‚¹ ${data.aov}`;
            document.getElementById('val-cost').innerText = `â‚¹ ${data.deliveryCost}`;
            document.getElementById('val-margin').innerText = `â‚¹ ${data.margin}`;
            document.getElementById('val-cm').innerText = data.cm > 0 ? `+ â‚¹ ${data.cm}.00` : `- â‚¹ ${Math.abs(data.cm)}.00`;
            document.getElementById('cm-desc').innerText = data.desc;

            // Update Badges & Colors
            const badge = document.getElementById('year-badge');
            badge.className = `px-3 py-1 text-xs rounded-full ${data.color}`;
            badge.innerText = `${year} Data`;

            const cmVal = document.getElementById('val-cm');
            cmVal.className = `text-xl font-extrabold ${data.cmColor}`;

            // Update Progress Bars (Relative widths based on max AOV 800)
            document.getElementById('bar-aov').style.width = `${(data.aov / 800) * 100}%`;
            document.getElementById('bar-cost').style.width = `${(data.deliveryCost / 100) * 100}%`; // cost relative to 100
            document.getElementById('bar-margin').style.width = `${(data.margin / 200) * 100}%`; // margin relative to 200

            // Update Buttons
            document.getElementById('btn-2022').className = year === '2022'
                ? "px-6 py-2 rounded-md text-sm font-medium bg-white text-slate-900 shadow-sm transition-all border border-slate-200"
                : "px-6 py-2 rounded-md text-sm font-medium text-slate-500 hover:text-slate-900 transition-all";

            document.getElementById('btn-2024').className = year === '2024'
                ? "px-6 py-2 rounded-md text-sm font-medium bg-white text-slate-900 shadow-sm transition-all border border-slate-200"
                : "px-6 py-2 rounded-md text-sm font-medium text-slate-500 hover:text-slate-900 transition-all";

            // Update Chart
            updateUnitChart(year);
        }

        // --- CHARTS (CHART.JS) ---

        // 1. Pyramid Chart (India 1, 2, 3)
        function initPyramidChart() {
            const ctx = document.getElementById('pyramidChart').getContext('2d');
            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['India 1', 'India 2', 'India 3'],
                    datasets: [
                        {
                            label: 'Population (Millions)',
                            data: [120, 100, 1100], // Approx numbers
                            backgroundColor: ['#10b981', '#cbd5e1', '#e2e8f0'], // Emerald for India 1, Grays for rest
                            borderColor: ['#059669', '#94a3b8', '#cbd5e1'],
                            borderWidth: 1
                        },
                        {
                            label: 'Avg Income (USD/yr)',
                            data: [15000, 3000, 1000], // Illustrative
                            type: 'line',
                            yAxisID: 'y1',
                            borderColor: '#4f46e5',
                            tension: 0.4
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: { display: true, text: 'Population (Millions)' }
                        },
                        y1: {
                            position: 'right',
                            beginAtZero: true,
                            title: { display: true, text: 'Income ($)' },
                            grid: { drawOnChartArea: false }
                        }
                    },
                    plugins: {
                        tooltip: {
                            callbacks: {
                                label: function (context) {
                                    if (context.dataset.type === 'line') {
                                        return `Avg Income: $${context.raw}`;
                                    }
                                    return `Population: ${context.raw} Million`;
                                }
                            }
                        }
                    }
                }
            });
        }

        // 2. Radar Chart (3 Cs)
        function initRadarChart() {
            const ctx = document.getElementById('radarChart').getContext('2d');
            new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: ['Convenience (Speed)', 'Catalog Depth', 'Low Price (Cost)', 'Service Quality', 'Return Ease'],
                    datasets: [{
                        label: 'Quick Commerce (Blinkit/Zepto)',
                        data: [95, 60, 40, 90, 85],
                        fill: true,
                        backgroundColor: 'rgba(16, 185, 129, 0.2)',
                        borderColor: '#10b981',
                        pointBackgroundColor: '#10b981',
                        pointBorderColor: '#fff',
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: '#10b981'
                    }, {
                        label: 'Trad. E-Comm (Amazon)',
                        data: [50, 100, 95, 75, 70],
                        fill: true,
                        backgroundColor: 'rgba(99, 102, 241, 0.2)',
                        borderColor: '#6366f1',
                        pointBackgroundColor: '#6366f1',
                        pointBorderColor: '#fff',
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: '#6366f1'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        r: {
                            angleLines: { display: true },
                            suggestedMin: 0,
                            suggestedMax: 100
                        }
                    }
                }
            });
        }

        // 3. Unit Economics Chart (Dynamic)
        function initUnitEconChart() {
            const ctx = document.getElementById('unitEconChart').getContext('2d');
            unitChartInstance = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['Setup Cost', 'AOV', 'Del Cost', 'Net Margin'],
                    datasets: [{
                        label: 'Financials (â‚¹)',
                        data: [0, 0, 0, 0],
                        backgroundColor: [
                            '#94a3b8', // Setup
                            '#3b82f6', // AOV
                            '#ef4444', // Del Cost
                            '#10b981'  // Margin
                        ]
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        title: {
                            display: true,
                            text: 'Unit Economics Breakdown'
                        },
                        tooltip: {
                            callbacks: {
                                label: function (context) {
                                    return `â‚¹ ${context.raw}`;
                                }
                            }
                        }
                    }
                }
            });
        }

        function updateUnitChart(year) {
            if (!unitChartInstance) return;

            const d = econData[year];
            // Simulating Setup cost trend: 2022 was high (say 100 index), 2024 is optimized (70 index)
            // Note: Setup cost is usually capex, not per order, but represented here for comparison index
            const setupIndex = year === '2022' ? 500 : 300;

            unitChartInstance.data.datasets[0].data = [
                setupIndex,
                d.aov,
                d.deliveryCost,
                d.cm
            ];

            // Change color of CM bar if negative
            const colors = [...unitChartInstance.data.datasets[0].backgroundColor];
            colors[3] = d.cm < 0 ? '#ef4444' : '#10b981';
            unitChartInstance.data.datasets[0].backgroundColor = colors;

            unitChartInstance.update();
        }

        // --- TABLE POPULATION ---
        function populateTable() {
            const tbody = document.getElementById('sourceTableBody');
            tbody.innerHTML = sourceData.map((item, index) => `
                <tr class="${index % 2 === 0 ? 'bg-white' : 'bg-slate-50'} hover:bg-emerald-50 transition-colors">
                    <td class="whitespace-normal py-4 pl-4 pr-3 text-sm font-medium text-slate-900 sm:pl-6 border-l-4 border-transparent hover:border-emerald-500">
                        ${item.insight}
                    </td>
                    <td class="whitespace-nowrap px-3 py-4 text-sm text-slate-500 italic">
                        ${item.source}
                    </td>
                </tr>
            `).join('');
        }

    </script>
</body>

</html>